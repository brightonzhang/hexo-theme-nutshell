$(function(){if($.fancybox&&$(".fancybox").fancybox(),$(".toc-wrap").affix({offset:{top:$("header").outerHeight(!0),bottom:$("footer").outerHeight(!0)}}),$(".post-comment").length&&$(".toc-wrap").length){new(window.MutationObserver||window.WebKitMutationObserver)(function(){$("footer").outerHeight(!0)+$(".post-comment").outerHeight(!0)!=$(".toc-wrap").data("bs.affix").options.offset.bottom&&($(window).off(".affix"),$(".toc-wrap").removeData("bs.affix").removeClass("affix affix-top affix-bottom"),$(".toc-wrap").affix({offset:{top:$("header").outerHeight(!0),bottom:$("footer").outerHeight(!0)+$(".post-comment").outerHeight(!0)}}))}).observe($(".post-comment")[0],{childList:!0,characterData:!1,attributes:!0,subtree:!0})}$("#totop").click(function(){$("body, html").animate({scrollTop:0},800)}),$(window).scroll(function(){var t,o,e,a,i,n,r,s=$(document).height()-$(window).height(),f=$(window).scrollTop(),h=parseInt(f/s*100);200<=f?($("#totop").addClass("display"),t=h/100,o=$("#totop-canvas"),e=o.width(),a=o.height(),i=e/2,n=parseInt((e-3)/2),(r=o[0].getContext("2d")).clearRect(0,0,e,a),r.beginPath(),r.arc(i,i,n,-Math.PI/2,2*Math.PI*t-Math.PI/2,!1),r.strokeStyle="#555555",r.lineCap="round",r.lineWidth=3,r.stroke()):$("#totop").removeClass("display"),$("#totop-percent").attr("data-percent",h)}),$.fn.tagcanvas&&($("#tagCanvas").attr("width",$("#tagCloudContainer").width()),$("#tagCanvas").attr("height",$("#tagCloudContainer").width()),$("#tagCanvas").tagcanvas({textFont:"Georgia,Optima",textColour:null,outlineColour:"black",weight:!0,reverse:!0,depth:.8,maxSpeed:.05,bgRadius:1,freezeDecel:!0,zoom:512<$("#tagCloudContainer").width()?1:$("#tagCloudContainer").width()/512},"tags")||$("#tagCanvasContainer").hide())});